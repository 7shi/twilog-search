# 開発ドキュメント

このディレクトリには、プロジェクトの開発過程で作成された技術レポートが含まれています。

## レポート一覧

### [20250707-daemon.md](20250707-daemon.md)
**デーモン分離アーキテクチャ実装レポート**

重いライブラリの読み込み処理をWebSocketサーバープロセスに分離し、フロントエンド側の起動時間を劇的に短縮したアーキテクチャの実装レポート。

**主要技術**：
- プロセス完全分離によるデーモン管理
- フロント側一時サーバーによるタイムアウト解決
- Apache風コマンドインターフェース
- 85秒の重い処理を数秒の即座起動に改善

### [20250708-twilog_server.md](20250708-twilog_server.md)
**twilog_server実装完了レポート**

embed_server.pyの安定アーキテクチャを継承し、Ruri v3モデルによる完全検索サーバーシステムを実装したレポート。

**主要技術**：
- 継承ベースの上位互換アーキテクチャ
- JSON-RPC 2.0 + MCPプロトコル対応
- WebSocket分割送信による大容量データ処理
- 統合運用による管理負荷削減

### [20250709-mcp.md](20250709-mcp.md)
**MCPプロトコルの技術的位置づけ**

MCP（Model Context Protocol）の本質的な技術的位置づけと、既存の分散システム技術との比較分析レポート。

**主要内容**：
- MCPとCORBA/SOAPとの比較
- JSON-RPC 2.0をベースとしたプロトコル構造
- マルチメディアコンテンツ対応設計
- AI時代のRPCフレームワークとしての評価

### [20250710-sqlite-to-csv.md](20250710-sqlite-to-csv.md)
**SQLiteベースからCSVベースへの移行レポート**

複雑なSQLiteデータベース構築プロセスから、CSVファイル直接処理による単純化アーキテクチャへの移行レポート。

**主要内容**：
- アーキテクチャ設計判断の変遷
- 8段階処理から3段階処理への簡略化
- 数時間のセットアップから約2時間への短縮
- 運用・保守性の大幅改善

### [20250710-server-enhancement.md](20250710-server-enhancement.md)
**TwilogServerの機能強化レポート**

SearchEngine統合とMCP互換メソッド追加によるTwilogServerの包括的機能強化レポート。二重実装解消と統一アーキテクチャ実現。

**主要内容**：
- SearchEngine統合による機能一元化
- MCP互換メソッド追加とAPI統一
- SQLite/CSV二重実装の完全解消
- 軽量ラッパー化による保守性向上

### [20250711-hybrid-search.md](20250711-hybrid-search.md)
**V|T複合検索の導入レポート**

ベクトル検索とテキスト検索を組み合わせた複合検索機能を、既存クライアントの変更なしに実装した技術レポート。

**主要技術**：
- パイプライン構文（V|T）による統一クエリ処理
- 効率的フィルタリングアルゴリズム（類似度順早期終了）
- サーバー側クエリ再解釈による透過的な機能拡張
- シェル風パース機能による高度なテキスト検索

### [20250713-generator-unification.md](20250713-generator-unification.md)
**ジェネレーターによるデータ差異吸収と処理統一化レポート**

テキスト検索とベクトル検索の結果形式差異をジェネレーターで吸収し、フィルタリング処理を完全統一した革新的技術レポート。

**主要技術**：
- ジェネレーターベースのデータ差異吸収
- 統一インターフェースによる処理フロー合流
- 関数型プログラミング概念のPython実装
- 重複コード完全排除による保守性向上

### [20250715-hybrid-search.md](20250715-hybrid-search.md)
**SearchEngineハイブリッド検索システム実装レポート**

投稿内容・タグ付け理由・要約の3つのベクトル空間を統合したハイブリッド検索システムの実装レポート。6種類の検索モードと統一されたインターフェースを実現。

**主要技術**：
- 3つのベクトル空間統合による多層検索
- 6種類の検索モード（単一ソース + 統合検索）
- 条件付きベクトル読み込みによる段階的機能提供
- ベクトル/テキスト検索の統一インターフェース

### [20250716-mode-optimization.md](20250716-mode-optimization.md)
**ハイブリッド検索モードの実用性検証と最適化レポート**

実測テストに基づくハイブリッド検索モードの実用性検証と最適化。product・harmonicモード削除、weighted統合、maximum・minimum追加による効率的な6モード構成の確立。

**主要技術**：
- 実測データによる検索モード評価分析
- API簡潔化によるweighted機能統合
- maximum・minimumモードによる検索戦略多様化
- 計算効率向上と実用的価値の最大化

### [20250716-menu.md](20250716-menu.md)
**メニューUIの設計方針と実装レポート**

ハイブリッド検索モード選択のためのメニューUIシステムの設計方針と実装。数字キーショートカットと選択即完了による効率的な操作性の実現。

**主要技術**：
- 数字キーショートカットによる直接選択
- 選択即完了の操作フロー設計
- 現在状態の視覚的明示（●マーク）
- サブメニューの一貫した動作制御

### [20250718-tag-scoring.md](20250718-tag-scoring.md)
**タグベース検索スコアリング手法の比較検証レポート**

次世代タグベース検索システムの投稿スコアリング手法を6つの統計的アプローチで比較検証。固定シード逆引き検証による定量的評価で75パーセンタイル手法の優位性を実証。

**主要技術**：
- 6つのスコアリング手法実装（mean, median, max, q75, top_k, weighted）
- 固定シード検証による再現可能な逆引き評価
- 統計的分析によるq75手法の最適性確認
- タグ品質依存性の定量的発見

## 技術的な関連性

これらのレポートは以下の技術的な関連性を持っています：

1. **アーキテクチャ進化**：daemon.md → twilog_server.md の技術継承
2. **プロトコル設計**：twilog_server.md → mcp.md の標準化検討
3. **データ処理簡略化**：sqlite-to-csv.md によるアーキテクチャ全体の見直し
4. **サーバー機能強化**：server-enhancement.md によるTwilogServerの統合完成
5. **検索機能拡張**：hybrid-search.md による複合検索の実現
6. **アーキテクチャ革新**：generator-unification.md による処理統一化の完成
7. **ハイブリッド検索完成**：20250715-hybrid-search.md によるマルチベクトル検索の実現
8. **検索システム最適化**：20250716-mode-optimization.md による実用性向上と効率化
9. **ユーザーインターフェース完成**：20250716-menu.md による効率的なメニューシステムの実現
10. **次世代検索基盤確立**：20250718-tag-scoring.md によるタグベース検索の最適スコアリング戦略確立

## 開発思想

これらのレポートを通じて、以下の開発思想が一貫しています：

- **実用性重視**：複雑な設計よりも実用的なソリューションを優先
- **運用性向上**：開発・運用の両面での利便性を重視
- **標準準拠**：既存の標準プロトコルを活用した相互運用性確保
- **段階的改善**：一気に完璧を目指さず、段階的な改善を重ねる

これらの技術レポートは、プロジェクトの技術的な成長過程を記録し、将来の開発における意思決定の参考資料として活用されます。
