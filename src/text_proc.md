# テキスト処理ユーティリティ

## なぜこの実装が存在するか

### 複雑な検索クエリの解析必要性
**Problem**: 単純な文字列マッチングでは、複数キーワードの組み合わせや除外条件を含む高度な検索クエリを扱えない問題があった。

**Solution**: シェルのコマンドライン引数解析と同様のルールでテキストをパースし、複数の検索語や除外条件を正確に分離する仕組みを実装した。

### クォート処理の必要性
**Problem**: スペースを含む検索語（例："hello world"）を単一の検索条件として扱う方法が必要だった。

**Solution**: ダブルクォーテーションによる囲み文字処理を実装し、内部のスペースを区切り文字として扱わない仕組みを採用した。

### エスケープ処理による柔軟性確保
**Problem**: 特殊文字（-、"、\）を文字通りの意味で検索したい場合の対応が必要だった。

**Solution**: バックスラッシュによるエスケープ処理を実装し、特殊文字を通常の文字として扱えるようにした。

### 除外検索の効率的実装
**Problem**: 特定の語を含まない投稿を検索する否定条件の需要があった。

**Solution**: マイナス記号プレフィックスによる除外語の指定を実装し、include_termsとexclude_termsに分離して処理する方式を採用した。

### テスト機能の統合必要性
**Problem**: パーサーの複雑な仕様を確実に検証し、リグレッションを防ぐ仕組みが必要だった。

**Solution**: ファイル直接実行によるテスト機能を統合し、カテゴリ別テストケースで仕様書としても機能する設計とした。Dict[str, List]構造により、テスト目的の明確化と1対多のテストケース管理を実現した。