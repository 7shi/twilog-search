# settings_ui

## なぜこの実装が存在するか

### UI機能の純粋関数化
**Problem**: ui_settings.pyでは設定クラスがUIメソッドを持っており、オブジェクト指向の複雑さとUI依存が混在していた。また、設定オブジェクトがUI状態を管理することで、責務が不明確だった。

**Solution**: UI機能を純粋関数として実装し、設定オブジェクトを引数として受け取る設計に変更。関数は設定オブジェクトのメソッドを呼び出して状態を更新するが、自身は状態を持たない。これにより、UI機能の再利用性とテスタビリティが向上した。

### 設定とUIの依存関係の最適化
**Problem**: 設定クラスがUI操作を内包していたため、設定データの利用時にUI関連ライブラリも読み込まれ、無駄なメモリ使用とライブラリ依存が発生していた。

**Solution**: 設定データクラス（settings.py）からUI依存を完全に排除し、UI機能（settings_ui.py）は必要時のみ読み込まれる設計とした。設定データの利用時はUI関連ライブラリが不要となり、軽量な動作を実現。

### UI処理の責務明確化
**Problem**: 設定の変更処理とUI表示処理が密結合しており、設定ロジックの変更がUI表示に影響を与えたり、UI変更が設定ロジックに影響する問題があった。

**Solution**: UI関数は設定オブジェクトのパブリックメソッドのみを呼び出し、設定の内部状態に直接アクセスしない設計とした。設定クラスが提供するAPIを通じて操作することで、設定とUIの責務を明確に分離し、相互依存を最小化した。