# ドキュメント作成ガイドライン

このプロジェクトでは、実装の詳細ではなく**実装の理由**を記録することを重視したドキュメント構造を採用しています。

## 基本方針

### 「なぜ」に特化する
- **WHY（なぜ）**: 実装した理由、解決したかった課題
- **HOW（どのように）**: コードを見れば分かるため記録しない

### 二層構造ドキュメント
- **モジュール.md**: 実装の経緯と設計思想（開発者・保守者向け）
- **README.md**: 使用方法と実用情報（利用者向け）

## モジュールドキュメント（*.md）の作成方針

### 対象ファイル
各Pythonモジュールに対応する`.md`ファイル
- `module.py` → `module.md`
- `test_feature.py` → `test_feature.md`

### 必須セクション
```markdown
# モジュール名

## なぜこの実装が存在するか

実装に至った背景と解決したかった具体的な問題を説明

### 課題1の名前
**Problem**: 発生していた具体的な問題
**Solution**: 採用した解決策とその理由

### 課題2の名前  
**Problem**: 別の課題
**Solution**: その解決策
```

### 記載するもの
- ✅ 実装した理由・背景
- ✅ 解決した具体的な問題
- ✅ 重要な設計判断の根拠
- ✅ アーキテクチャ選択の理由
- ✅ 代替案を採用しなかった理由

### 記載しないもの
- ❌ コード例・サンプル
- ❌ 詳細な使用方法・手順  
- ❌ API仕様・パラメータ説明
- ❌ 実行結果・出力例
- ❌ 関数・クラスの動作説明

## READMEファイルの役割

### ディレクトリREADME.md
利用者向けの実用情報を提供：
- 使用例・サンプルコード
- セットアップ手順
- ファイル構成の説明
- 実行方法

### 変更対象外
READMEファイルは従来通りの実用的な内容を維持し、変更しません。

## 実装例

### Before（従来型 - 避けるべき）
```markdown
# データ処理モジュール

## 関数一覧

### process_data(data)
文字列データを正規化します。

**パラメータ**:
- data (str): 処理対象の文字列

**戻り値**:
- str: 正規化された文字列

**使用例**:
```python
result = process_data("  Hello World  ")
print(result)  # "hello world"
```

空白を削除し、小文字に変換します。
```

### After（推奨型）
```markdown
# データ処理モジュール

## なぜこの実装が存在するか

### データ正規化の必要性
**Problem**: 外部からの入力データが大文字小文字や前後の空白でばらつき、比較処理や検索処理で期待通りの結果が得られない問題が頻発していた。

**Solution**: 入力の最初の段階で統一的な正規化処理を行うことで、後続の全ての処理を安定化させる方針を採用。

### 前処理での統一化選択
**Problem**: 各処理箇所で個別に正規化すると、処理のばらつきが生じ、メンテナンスが困難になる。

**Solution**: 単一の関数で一元的に正規化し、全ての入力経路でこの関数を通すアーキテクチャとした。
```

## 実装時のコツ

### 1. 問題起点で考える
「この実装がなかったらどんな問題が起きるか？」から逆算して記述

### 2. 意思決定の記録
「なぜAではなくBを選んだのか？」の判断根拠を残す

### 3. 将来の開発者への配慮
数ヶ月後の自分や新しいチームメンバーが理解できる説明を心がける

### 4. 簡潔性の重視
1つの課題は1-3文で説明し、冗長さを避ける

## 運用ルール

### 新機能追加時
1. 機能実装と同時に対応する`.md`ファイルを作成
2. 実装理由を明確に記録
3. 設計上の重要な判断を文書化

### 既存機能修正時
1. 変更理由を`.md`ファイルに追記
2. 過去の設計判断が変わった場合は更新

### レビュー時のチェックポイント
- 実装理由が明確に記録されているか
- コード例が混入していないか
- 設計判断の根拠が説明されているか

このガイドラインに従うことで、プロジェクトの設計思想が明確に伝承され、長期的な保守性が向上します。