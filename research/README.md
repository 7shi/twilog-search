# 実験・調査ツール

タグシステムの性能分析と検索アルゴリズム研究で開発された実験・調査コードの目録。各ツールはPythonスクリプト（.py）と対応するドキュメント（.md）のセットで構成されています。

## ディレクトリの位置づけ

**research/** は実験・調査専用ディレクトリです：
- **目的**: 仮説検証、アルゴリズム探索、性能分析
- **特徴**: 研究目的のコード、一時的な実験、新手法の検証
- **区別**: 実用コード（src/）、実装検証（debug/）とは異なる研究領域

## ツール分類

### ベクトル検索性能検証
検索システムの基盤性能分析：

- **[summary_vector_validation.py](summary_vector_validation.md)** - 要約ベクトル検索による原文反映性検証ツール

### タグ分析・調査ツール群
基礎的なタグデータの特性分析：

- **[tag_analysis.py](tag_analysis.md)** - タグ使用頻度分析、対数スケールヒストグラム、順位別統計表示
- **[tag_cooc.py](tag_cooc.md)** - タグ共起分析、関連性可視化、中心性分析
- **[tag_similarity.py](tag_similarity.md)** - タグ類似度分析、表記揺れ検出
- **[tag_similarity_cooc.py](tag_similarity_cooc.md)** - 類似度vs共起率比較検証、ベクトル類似度の絶対的優位性確認
- **[tag_cooc_rate.py](tag_cooc_rate.md)** - タグ共起率分析、包含関係の定量化

### タグベース検索スコアリング実験シリーズ
逆引き検索アルゴリズムの性能比較検証：

- **[tag_reverse_search_1.py](tag_reverse_search_1.md)** - 6手法比較検証（初期版）
- **[tag_reverse_search_2.py](tag_reverse_search_2.md)** - TagReader最適化版での6手法比較検証
- **[tag_reverse_search_3.py](tag_reverse_search_3.md)** - mean手法特化による最適化検証（43%高速化達成）

### コアタグ特定アルゴリズム実験シリーズ
高度な検索システム統合アルゴリズムの研究：

- **[core_tag_validation_1.py](core_tag_validation_1.md)** - クエリからコアタグ特定の適中率検証（K=10,20）
- **[core_tag_validation_2.py](core_tag_validation_2.md)** - 類似度分布検証による0.89閾値の実証的決定
- **[core_tag_validation_3.py](core_tag_validation_3.md)** - コアタグベース検索アルゴリズムの実装と限界検証

## 重要な研究成果

### 成功した検証
1. **mean手法の優位性実証** (tag_reverse_search_3)
   - 平均順位736.2で最優秀性能を確認
   - 全タグ類似度計算の重要性を実証

2. **最適閾値の決定** (core_tag_validation_2)
   - 0.89閾値（平均5.1件/サンプル）がコアタグ特定の最適基準

### 重要な失敗事例
3. **コアタグ手法の限界発見** (core_tag_validation_3)
   - コアタグベース検索（平均順位31,896.3） vs 直接手法（平均順位736.2）
   - **43倍の性能劣化**により理論的魅力と実用性の乖離を実証
   - LLMタグ抽出とRuri v3埋め込みの表現空間不一致が根本原因

4. **共起率手法の完全否定** (tag_similarity_cooc)
   - 上位30タグの全ペア（870組）で類似度<共起率となるケースが0組
   - **逆転率0.0%**により共起率ベース手法の実用価値完全否定
   - ベクトル類似度の絶対的優位性を実証

## 実用的教訓

1. **全タグ類似度計算の必須性**: top_k制限は「早期最適化の罠」
2. **mean手法の実用的優位性**: 複雑な手法より安定した性能
3. **シンプリシティの価値**: 理論的魅力と実用性は必ずしも一致しない
4. **実証の重要性**: 仮説は必ず検証で確認すべき

## 方針転換への影響

PLAN.mdの方針転換（タグベース検索→タグベース情報整理）において、これらの実験結果は重要な指針を提供：

- **検索での限界**: タグの情報圧縮性により検索精度が劣化
- **分類での価値**: タグの分類指向設計は情報整理に最適
- **設計思想**: 「検索」と「分類」の役割分担の重要性を実証